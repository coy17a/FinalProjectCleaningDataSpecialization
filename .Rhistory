setwd("~/Dropbox/usbBackup/WebCoy/data/R/JHDScoursera/UCI HAR Dataset")
library(readr)
library(dplyr)
library(tidyr)
library(purrr)
trainx <- read_delim("./train/X_Train.txt", delim = " ", col_names = FALSE)
trainy <- read_delim("./train/Y_Train.txt", delim = " ", col_names = FALSE)
subject_train <-read_delim("./train/subject_train.txt", delim = " ", col_names = FALSE)
testx <- read_delim("./test/X_Test.txt", delim = " ", col_names = FALSE)
testy <- read_delim("./test/Y_Test.txt", delim = " ", col_names = FALSE)
subject_test <-read_delim("./test/subject_test.txt", delim = " ", col_names = FALSE)
features <- read_delim("features.txt",delim = " ",col_names = FALSE)
activities <-  read_delim("activity_labels.txt",delim = " ",col_names = FALSE)
#join the train and test df
df <- rbind(trainx,testx)
subjects <- rbind(subject_train,subject_test)
trainingLabels <- rbind(trainy,testy)
#change the name of activities
trainingLabels <- sapply(trainingLabels$X1, function(x) activities$X2[x])
#meand and std selection
selection1 <-  grep("mean()",features$X2)
selection2 <- grep("std()",features$X2)
selection <- sort(c(selection1,selection2))
df <- df[,selection]
features <- features[selection,]
#name columns in trainx
names(df) <- features$X2
#join the activities and subject information nad label variables
df<- df %>%
mutate(Activity = trainingLabels,Subjects_Number= subjects$X1)
#tidy data
df <- df%>%
mutate_at(1:79, as.numeric)
tidydf <- df %>%
group_by(Subjects_Number,Activity)%>%
summarise_all(funs(mean))
#tidydf <- spread(tidyf,Subjects_Number,)
tidydf <- gather (tidydf,features$X2,key="Measurements",value="mean")
tidydf <- spread (tidydf,Subjects_Number,mean)
View(tidydf)
View(df)
#wirte the df to files
write_csv(features$X2, file = "newFeatures.csv")
#wirte the df to files
write,csv(features$X2, file = "newFeatures.csv")
#wirte the df to files
write.csv(features$X2, file = "newFeatures.csv")
write.csv(features$X2, file = "newFeatures.csv")
write.csv(tidydf, file = "tidy.csv")
write.csv(tidydf, file = "df.csv")
ibrary(readr)
library(dplyr)
library(tidyr)
library(purrr)
trainx <- read_delim("./train/X_Train.txt", delim = " ", col_names = FALSE)
trainy <- read_delim("./train/Y_Train.txt", delim = " ", col_names = FALSE)
subject_train <-read_delim("./train/subject_train.txt", delim = " ", col_names = FALSE)
testx <- read_delim("./test/X_Test.txt", delim = " ", col_names = FALSE)
testy <- read_delim("./test/Y_Test.txt", delim = " ", col_names = FALSE)
subject_test <-read_delim("./test/subject_test.txt", delim = " ", col_names = FALSE)
features <- read_delim("features.txt",delim = " ",col_names = FALSE)
activities <-  read_delim("activity_labels.txt",delim = " ",col_names = FALSE)
#join the train and test df
df <- rbind(trainx,testx)
subjects <- rbind(subject_train,subject_test)
trainingLabels <- rbind(trainy,testy)
#change the name of activities
trainingLabels <- sapply(trainingLabels$X1, function(x) activities$X2[x])
#meand and std selection
selection1 <-  grep("mean()",features$X2)
selection2 <- grep("std()",features$X2)
selection <- sort(c(selection1,selection2))
df <- df[,selection]
features <- features[selection,]
#name columns in trainx
names(df) <- features$X2
#join the activities and subject information nad label variables
df<- df %>%
mutate(Activity = trainingLabels,Subjects_Number= subjects$X1)
#tidy data
df <- df%>%
mutate_at(1:79, as.numeric)
tidydf <- df %>%
group_by(Subjects_Number,Activity)%>%
summarise_all(funs(mean))
#tidydf <- spread(tidyf,Subjects_Number,)
tidydf <- gather (tidydf,features$X2,key="Measurements",value="mean")
tidydf <- spread (tidydf,Subjects_Number,mean)
#wirte the df to files
write.csv(features$X2, file = "newFeatures.csv")
write.csv(tidydf, file = "tidy.csv")
write.csv(tidydf, file = "df.csv")
source('~/Dropbox/usbBackup/WebCoy/data/R/JHDScoursera/FinalProjectCleaningDataJH/project.R')
source('~/Dropbox/usbBackup/WebCoy/data/R/JHDScoursera/FinalProjectCleaningDataJH/project.R')
