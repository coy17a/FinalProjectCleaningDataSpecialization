library(readr)
library(dplyr)
library(tidyr)
trainx <- read_delim("./train/X_Train.txt", delim = " ", col_names = FALSE)
trainy <- read_delim("./train/Y_Train.txt", delim = " ", col_names = FALSE)
subject_train <-read_delim("./train/subject_train.txt", delim = " ", col_names = FALSE)
testx <- read_delim("./test/X_Test.txt", delim = " ", col_names = FALSE)
testy <- read_delim("./test/Y_Test.txt", delim = " ", col_names = FALSE)
subject_test <-read_delim("./test/subject_test.txt", delim = " ", col_names = FALSE)
features <- read_delim("features.txt",delim = " ",col_names = FALSE)
activities <-  read_delim("activity_labels.txt",delim = " ",col_names = FALSE)
#join the train and test df
df <- rbind(trainx,testx)
subjects <- rbind(subject_train,subject_test)
trainingLabels <- rbind(trainy,testy)
#change the name of activities
trainingLabels <- sapply(trainingLabels$X1, function(x) activities$X2[x])
#meand and std selection
selection1 <-  grep("mean()",features$X2)
selection2 <- grep("std()",features$X2)
selection <- sort(c(selection1,selection2))
df <- df[,selection]
features <- features[selection,]
#name columns in trainx
names(df) <- features$X2
#join the activities and subject information nad label variables
df<- df %>%
mutate(Activity = trainingLabels,Subjects_Number= subjects$X1)
#tidy data
setwd("~/Dropbox/usbBackup/WebCoy/data/R/JHDScoursera/UCI HAR Dataset")
library(readr)
library(dplyr)
library(tidyr)
trainx <- read_delim("./train/X_Train.txt", delim = " ", col_names = FALSE)
trainy <- read_delim("./train/Y_Train.txt", delim = " ", col_names = FALSE)
subject_train <-read_delim("./train/subject_train.txt", delim = " ", col_names = FALSE)
testx <- read_delim("./test/X_Test.txt", delim = " ", col_names = FALSE)
testy <- read_delim("./test/Y_Test.txt", delim = " ", col_names = FALSE)
subject_test <-read_delim("./test/subject_test.txt", delim = " ", col_names = FALSE)
features <- read_delim("features.txt",delim = " ",col_names = FALSE)
activities <-  read_delim("activity_labels.txt",delim = " ",col_names = FALSE)
#join the train and test df
df <- rbind(trainx,testx)
subjects <- rbind(subject_train,subject_test)
trainingLabels <- rbind(trainy,testy)
#change the name of activities
trainingLabels <- sapply(trainingLabels$X1, function(x) activities$X2[x])
#meand and std selection
selection1 <-  grep("mean()",features$X2)
selection2 <- grep("std()",features$X2)
selection <- sort(c(selection1,selection2))
df <- df[,selection]
features <- features[selection,]
#name columns in trainx
names(df) <- features$X2
#join the activities and subject information nad label variables
df<- df %>%
mutate(Activity = trainingLabels,Subjects_Number= subjects$X1)
#tidy data
#tidy data
tidydf <- df %>%
group_by(Activity)
filter(Activity =="walking")
#tidy data
tidydf <- df %>%
group_by(Activity)%>%
filter(Activity =="walking")
#tidy data
tidydf <- df %>%
group_by(Activity)%>%
filter(Activity =="Walking")
#tidy data
tidydf <- df %>%
group_by(Activity)%>%
filter(Activity =="STANDING")
#tidy data
tidydf <- df %>%
filter(Activity =="STANDING") %>%
group_by(Subjects_Number)
View(tidydf)
#tidy data
tidydf <- df %>%
group_by(Subjects_Number,Activity)
View(tidydf)
View(features)
#tidy data
tidydf <- df %>%
group_by(Subjects_Number,Activity)%>%
summarise(men(`tBodyAcc-mean()-X`))
#tidy data
tidydf <- df %>%
group_by(Subjects_Number,Activity)%>%
summarise(mean(`tBodyAcc-mean()-X`))
View(tidydf)
View(df)
mean(df$`tBodyAcc-mean()-X`)
View(df)
View(df)
df$`tBodyAcc-mean()-X` <- as.numeric(df$`tBodyAcc-mean()-X`)
View(df)
library(purrr)
df <- df%>%
map(1:79, as.numeric())
#join the train and test df
df <- rbind(trainx,testx)
subjects <- rbind(subject_train,subject_test)
trainingLabels <- rbind(trainy,testy)
#change the name of activities
trainingLabels <- sapply(trainingLabels$X1, function(x) activities$X2[x])
#meand and std selection
selection1 <-  grep("mean()",features$X2)
selection2 <- grep("std()",features$X2)
selection <- sort(c(selection1,selection2))
df <- df[,selection]
features <- features[selection,]
#name columns in trainx
names(df) <- features$X2
#join the activities and subject information nad label variables
df<- df %>%
mutate(Activity = trainingLabels,Subjects_Number= subjects$X1)
df <- df%>%
map(c(1:79), as.numeric())
df <- rbind(trainx,testx)
subjects <- rbind(subject_train,subject_test)
trainingLabels <- rbind(trainy,testy)
#change the name of activities
trainingLabels <- sapply(trainingLabels$X1, function(x) activities$X2[x])
#meand and std selection
selection1 <-  grep("mean()",features$X2)
selection2 <- grep("std()",features$X2)
selection <- sort(c(selection1,selection2))
df <- df[,selection]
features <- features[selection,]
#name columns in trainx
names(df) <- features$X2
#join the activities and subject information nad label variables
df<- df %>%
mutate(Activity = trainingLabels,Subjects_Number= subjects$X1)
df <- df%>%
mutate_at(1:79, as.numeric)
tidydf <- df %>%
group_by(Subjects_Number,Activity)%>%
summarise(mean(`tBodyAcc-mean()-X`))
View(tidydf)
tidydf <- df %>%
group_by(Subjects_Number,Activity)
summarise(mean(features)
tidydf <- df %>%
group_by(Subjects_Number,Activity)%>%
summarise(mean(features))
tidydf <- df %>%
group_by(Subjects_Number,Activity)%>%
summarise(mean(features))
View(tidydf)
tidydf <- df %>%
group_by(Subjects_Number,Activity)%>%
summarise_all(funs(mean()))
tidydf <- df %>%
group_by(Subjects_Number,Activity)%>%
summarise_all(funs(mean))
View(tidydf)
#tidydf <- spread(tidyf,Subjects_Number,)
test <- spread (tidydf,Subjects_Number,Activity)
View(test)
#tidydf <- spread(tidyf,Subjects_Number,)
test <- spread (tidydf,3:79)
#tidydf <- spread(tidyf,Subjects_Number,)
test <- gather (tidydf,features,key="Measurements",value="mean")
#tidydf <- spread(tidyf,Subjects_Number,)
test <- gather (tidydf,features$X2,key="Measurements",value="mean")
View(test)
test <- spread (test,Subjects_Number,mean)
View(test)
source('~/Dropbox/usbBackup/WebCoy/data/R/JHDScoursera/UCI HAR Dataset/project.R')
source('~/Dropbox/usbBackup/WebCoy/data/R/JHDScoursera/UCI HAR Dataset/project.R')
